<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# repository

The repository stores a list of files with their symbols
and acts like a database.

You can request it to retrieve
[nodes](NODE.md) like [namespaces]\(NAMESPACE.md], functions or classes.

You can also use it to retrieve scope context from a specific
offset (usefull for an editor).

**Parameters**

-   `directory`  
-   `options`  

**Properties**

-   `files` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
-   `directory` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `counter` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

## scan

Scan the current directory to add PHP files to parser

**Parameters**

-   `directory` **([String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) \| [Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array))** Path to scan, relative to repository root

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

## parse

Parsing a file

**Parameters**

-   `filename` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `encoding` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The encoding (by default utf8)
-   `stat`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 

## getByType

Lookup at each file and retrieves specified nodes

**Parameters**

-   `type` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `limit` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[node](https://developer.mozilla.org/en-US/docs/Web/API/Node/nextSibling)>** [:link:](NODE.md)

## getByName

Lookup at each file and retrieves named elements

**Parameters**

-   `type` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `limit` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
-   `name`  

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[node](https://developer.mozilla.org/en-US/docs/Web/API/Node/nextSibling)>** [:link:](NODE.md)

## getFirstByName

Lookup at each file and retrieves named elements

**Parameters**

-   `type` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `limit` **[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
-   `name`  

Returns **([node](https://developer.mozilla.org/en-US/docs/Web/API/Node/nextSibling) | null)** [:link:](NODE.md)

## getNamespace

Retrieves a namespace (cross file)

The retrieved namespace will include :

-   constants
-   functions
-   classes
-   interfaces
-   traits

**Parameters**

-   `name` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The namespace name

Returns **(namespace | null)** [:link:](NAMESPACE.md)

## cleanAll

Clean all the cache

Returns **[repository](#repository)** 

## remove

Removes a file

**Parameters**

-   `filename`  

Returns **[repository](#repository)** 

## each

Iterate over each file

**Parameters**

-   `cb` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** A closure : `function(file, name)`

Returns **[repository](#repository)** 

## scope

Gets the scope for the specified offset

**Parameters**

-   `filename`  
-   `offset`  

Returns **scope** 

## get

Retrieves a file object

**Parameters**

-   `filename` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The filename to retrieve

Returns **(file | null)** Returns the file if exists, or null if not defined

## cache

Gets/Sets the files repository

**Parameters**

-   `data` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Sets the specified data

Returns **([repository](#repository) \| [object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object))** Retrieves the cache (if data not set)

## rename

Rename a file

**Parameters**

-   `oldName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The original filename
-   `newName` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The new filename

Returns **[repository](#repository)** 

## refresh

Refresh the file contents

**Parameters**

-   `filename`  
-   `encoding`  
-   `stat`  

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** 
